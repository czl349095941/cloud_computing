nginx 

3．1 轮转法：

    轮转算法是全部调度算法中最简单也最easy实现的一种方法。

在一个任务队列里。队列的每一个成员（节点）都具有同样的地位。轮转法简单的在这组成员中顺序轮转选择。

在负载平衡环境中。均衡器将新的请求轮流发给节点队列中的下一节点，如此连续、周而复始。每一个集群的节点都在相等的地位下被轮流选择。这个算法在DNS域名轮询中被广泛使用。

    轮转法的活动是可预知的，每一个节点被选择的机会是1/N。因此非常easy计算出节点的负载分布。

轮转法典型的适用于集群中全部节点的处理能力和性能均同样的情况，在实际应用中，一般将它与其它简单方法联合使用时比較有效。

3．2 散列法

    散列法也叫哈希法（HASH），通过单射不可逆的HASH函数。依照某种规则将网络请求发往集群节点。哈希法在其它几类平衡算法不是非常有效时会显示出特别的威力。

比如，在前面提到的UDP会话的情况下，因为轮转法和其它几类基于连接信息的算法，无法识别出会话的起止标记，会引起应用混乱。

    而採取基于数据包源地址的哈希映射能够在一定程度上解决问题：将具有同样源地址的数据包发给同一server节点，这使得基于高层会话的事务能够以适当的方式执行。

相对称的是，基于目的地址的哈希调度算法能够用在Web Cache集群中，指向同一个目标网站的訪问请求都被负载平衡器发送到同一个Cache服务节点上，以避免页面缺失而带来的更新Cache问题。

3．3 最少连接法

    在最少连接法中，平衡器纪录眼下全部活跃连接。把下一个新的请求发给当前含有最少连接数的节点。这样的算法针对TCP连接进行。但因为不同应用对系统资源的消耗可能差异非常大。而连接数无法反映出真实的应用负载，因此在使用重型Webserver作为集群节点服务时（比如Apacheserver）。该算法在平衡负载的效果上要打个折扣。为了降低这个不利的影响。能够对每一个节点设置最大的连接数上限（通过阈值设定体现）。

3．4 最低缺失法

    在最低缺失法中，平衡器长期纪录到各节点的请求情况，把下个请求发给历史上处理请求最少的节点。与最少连接法不同的是。最低缺失记录过去的连接数而不是当前的连接数。

3．5 最快响应法

    平衡器记录自身到每个集群节点的网络响应时间。并将下一个到达的连接请求分配给响应时间最短的节点，这样的方法要求使用ICMP包或基于UDP包的专用技术来主动探測各节点。

    在大多数基于LAN的集群中，最快响应算法工作的并非非常好，由于LAN中的ICMP包基本上都在10ms内完毕回应，体现不出节点之间的差异；假设在 WAN上进行平衡的话，响应时间对于用户就近选择server而言还是具有现实意义的；并且集群的拓扑越分散这样的方法越能体现出效果来。

这样的方法是高级平衡基于拓扑结构重定向用到的主要方法。

3．6 加权法

    加权方法仅仅能与其它方法合用。是它们的一个非常好的补充。加权算法依据节点的优先级或当前的负载状况（即权值）来构成负载平衡的多优先级队列，队列中的每一个等待处理的连接都具有同样处理等级，这样在同一个队列里能够依照前面的轮转法或者最少连接法进行均衡，而队列之间依照优先级的先后顺序进行均衡处理。

在这里权值是基于各节点能力的一个预计值。


以基于权重的负载均衡为例，可以配置Nginx把请求更多地分发到高配置的后端服务器上，把相对较少的请求分发到低配服务器。配置的示例如下：